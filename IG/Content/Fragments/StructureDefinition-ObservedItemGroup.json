{
  "resourceType": "StructureDefinition",
  "extension": [
    {
      "url": "http://www.fragment.com/mapname",
      "valueString": "ObservedItemGroup"
    },
    {
      "url": "http://www.fragment.com/Group",
      "valueString": "MGResources/ObservedItemGroup"
    },
    {
      "url": "http://www.fragment.com/fragment",
      "valueUrl": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/ObservationLeafFragment"
    },
    {
      "url": "http://www.fragment.com/maplink",
      "valueString": "{\r\n  \"LinkType\": \"fragment\",\r\n  \"ShowChildren\": false,\r\n  \"LinkTarget\": \"http://hl7.org/fhir/us/breast-radiology/StructureDefinition/ObservationLeafFragment\"\r\n}"
    },
    {
      "url": "http://www.fragment.com/fragment",
      "valueUrl": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/BreastRadObservationNoDeviceFragment"
    },
    {
      "url": "http://www.fragment.com/maplink",
      "valueString": "{\r\n  \"LinkType\": \"fragment\",\r\n  \"ShowChildren\": false,\r\n  \"LinkTarget\": \"http://hl7.org/fhir/us/breast-radiology/StructureDefinition/BreastRadObservationNoDeviceFragment\"\r\n}"
    },
    {
      "url": "http://www.fragment.com/fragment",
      "valueUrl": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/BreastRadObservationNoValueFragment"
    },
    {
      "url": "http://www.fragment.com/maplink",
      "valueString": "{\r\n  \"LinkType\": \"fragment\",\r\n  \"ShowChildren\": false,\r\n  \"LinkTarget\": \"http://hl7.org/fhir/us/breast-radiology/StructureDefinition/BreastRadObservationNoValueFragment\"\r\n}"
    },
    {
      "url": "http://www.fragment.com/maplink",
      "valueString": "{\r\n  \"LinkType\": \"component\",\r\n  \"ShowChildren\": true,\r\n  \"Cardinality\": \"1..1\",\r\n  \"LinkTarget\": \"Grouping Type\",\r\n  \"ComponentHRef\": \"StructureDefinition-{SDName}-definitions.html#Observation.component:groupingType\",\r\n  \"Types\": \"CodeableConcept\",\r\n  \"References\": [\r\n    \"http://hl7.org/fhir/us/breast-radiology/ValueSet/ItemGroupComponentCodesVS\"\r\n  ]\r\n}"
    },
    {
      "url": "http://www.fragment.com/maplink",
      "valueString": "{\r\n  \"LinkType\": \"component\",\r\n  \"ShowChildren\": true,\r\n  \"Cardinality\": \"1..3\",\r\n  \"LinkTarget\": \"Item Group Components\",\r\n  \"ComponentHRef\": \"StructureDefinition-{SDName}-definitions.html#Observation.component:sizeDimension\",\r\n  \"Types\": \"Quantity | Range\",\r\n  \"References\": [\r\n    \"http://hl7.org/fhir/us/breast-radiology/ValueSet/DimensionCodeVS\"\r\n  ]\r\n}"
    }
  ],
  "url": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/ObservedItemGroup",
  "name": "ObservedItemGroup",
  "title": "Observed ItemGroup",
  "status": "draft",
  "description": "<b>Observation of a size or size range in 1, 2, or 3 dimensions.</b>\n\nObservation of a one or more items and the size and grouping of the item(s)\n\nThe size can be one, two, or three dimensional.\n The axes can be oriented to certain landmarks, or ordered by size.\n Each dimention can be a quantity (i.e. 5 cm), or a range (1 cm to 5 cm).\n If the lower bound of the range is set but not the upper bound, then it means {lower bound} cm or more.\n If the upper bound of the range is set but not the lower bound, then it means {upper bound} cm or less.",
  "fhirVersion": "4.0.0",
  "kind": "resource",
  "abstract": false,
  "type": "Observation",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Observation",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Observation",
        "path": "Observation",
        "short": "Observation of a size or size range in 1, 2, or 3 dimensions.",
        "definition": "Observation of a one or more items and the size and grouping of the item(s)\n\nThe size can be one, two, or three dimensional.\n The axes can be oriented to certain landmarks, or ordered by size.\n Each dimention can be a quantity (i.e. 5 cm), or a range (1 cm to 5 cm).\n If the lower bound of the range is set but not the upper bound, then it means {lower bound} cm or more.\n If the upper bound of the range is set but not the lower bound, then it means {upper bound} cm or less.",
        "base": {
          "path": "Observation",
          "min": 0,
          "max": "*"
        }
      },
      {
        "id": "Observation.code",
        "path": "Observation.code",
        "base": {
          "path": "Observation.code",
          "min": 1,
          "max": "1"
        },
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/us/breast-radiology/CodeSystem/ComponentSliceCodes",
              "code": "observedItemGroup"
            }
          ]
        }
      },
      {
        "id": "Observation.component",
        "path": "Observation.component",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "base": {
          "path": "Observation.component",
          "min": 0,
          "max": "*"
        }
      },
      {
        "id": "Observation.component:groupingType",
        "path": "Observation.component",
        "sliceName": "groupingType",
        "short": "Grouping Type component",
        "definition": "This slice contains the required component that defines the \ntype of item grouping.",
        "comment": "This is one component of a group of components that comprise the observation.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Observation.component",
          "min": 0,
          "max": "*"
        }
      },
      {
        "id": "Observation.component:groupingType.code",
        "path": "Observation.component.code",
        "short": "Grouping Type component code",
        "definition": "This code identifies the Grouping Type component.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Observation.component.code",
          "min": 1,
          "max": "1"
        },
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/us/breast-radiology/CodeSystem/ItemGroupComponentCodesCS",
              "code": "GroupingComponent"
            }
          ]
        }
      },
      {
        "id": "Observation.component:groupingType.value[x]",
        "path": "Observation.component.value[x]",
        "short": "Grouping Type component value",
        "definition": "Value is a codeable concept.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Observation.component.value[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/breast-radiology/ValueSet/ItemGroupComponentCodesVS"
        }
      },
      {
        "id": "Observation.component:sizeDimension",
        "path": "Observation.component",
        "sliceName": "sizeDimension",
        "min": 1,
        "max": "3",
        "base": {
          "path": "Observation.component",
          "min": 0,
          "max": "*"
        }
      },
      {
        "id": "Observation.component:sizeDimension.code",
        "path": "Observation.component.code",
        "short": "Item dimension code",
        "definition": "This code identifies the item size dimension.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Observation.component.code",
          "min": 1,
          "max": "1"
        },
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/breast-radiology/ValueSet/DimensionCodeVS"
        }
      },
      {
        "id": "Observation.component:sizeDimension.valueX",
        "path": "Observation.component.valueX",
        "short": "Item size value",
        "definition": "The observed size of an item. This is always in UCUM units, and can\n be a specific size, or a size range.",
        "comment": "This is one component of a group of components that comprise the observation.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity"
          },
          {
            "code": "Range"
          }
        ]
      },
      {
        "id": "Observation.component:sizeDimension.valueX:valueQuantity",
        "path": "Observation.component.valueX",
        "sliceName": "valueQuantity",
        "min": 0,
        "max": "1",
        "patternQuantity": {
          "system": "http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS"
        }
      },
      {
        "id": "Observation.component:sizeDimension.valueX:valueRange",
        "path": "Observation.component.valueX",
        "sliceName": "valueRange",
        "min": 0,
        "max": "1",
        "patternRange": {
          "low": {
            "system": "http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS"
          },
          "high": {
            "system": "http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS"
          }
        }
      }
    ]
  }
}